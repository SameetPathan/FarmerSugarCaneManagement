import React, { useState } from "react";
import { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from "reactstrap";

const docList = [
  {
    "abbreviation": "SPD",
    "docName": "Summary Plan Description in effect during 2022"
  },
  {
    "abbreviation": "AA",
    "docName": "Adoption Agreement, including plan amendments and participation agreements 2022"
  },
  // Add more documents here...
];

const Example = () => {
  const [selectedDoc, setSelectedDoc] = useState(null);
  const [selectedTab, setSelectedTab] = useState("Manual");

  const toggleTab = (tab) => {
    setSelectedTab(tab);
  };

  const handleSelectDoc = (doc) => {
    setSelectedDoc(doc);
  };

  return (
    <Dropdown isOpen={selectedDoc !== null} toggle={() => setSelectedDoc(null)}>
      <DropdownToggle caret>
        {selectedDoc ? `${selectedDoc.abbreviation} - ${selectedDoc.docName}` : "Select a document"}
      </DropdownToggle>
      <DropdownMenu>
        {docList.map((doc) => (
          <DropdownItem key={doc.abbreviation} onClick={() => handleSelectDoc(doc)}>
            {doc.abbreviation}
            <Dropdown isOpen={selectedDoc === doc}>
              <DropdownToggle caret>
                {selectedDoc === doc ? selectedTab : "Manual/Bot"}
              </DropdownToggle>
              <DropdownMenu>
                <DropdownItem onClick={() => toggleTab("Manual")}>Manual</DropdownItem>
                <DropdownItem onClick={() => toggleTab("Bot")}>Bot</DropdownItem>
              </DropdownMenu>
            </Dropdown>
          </DropdownItem>
        ))}
      </DropdownMenu>
    </Dropdown>
  );
};

export default Example;
